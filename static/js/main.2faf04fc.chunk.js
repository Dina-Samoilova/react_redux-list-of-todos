(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n.n(r),s=n(2),o=n(3),a=n(8),i=n(4),u=n.n(i),l=n(7),d=n(16),j=n(15),b=function(e,t){return fetch("".concat("https://mate.academy/students-api").concat(e),t).then((function(e){return e.ok?e.json():Promise.reject(new Error("".concat(e.status," - ").concat(e.statusText)))}))};function p(){return b("/todos")}function O(e){return b("/users/".concat(e))}function f(e){return b("/todos/".concat(e),{method:"DELETE"})}var m="UPDATE_TODOS",h="USER_SET",_="FILTER",x="QUERY_SET",v="RANDOMIZE",T={startLoading:function(){var e=Object(a.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:n=e.sent,t(T.updateTodos(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(T.updateTodos([]));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),loadUser:function(e){return function(){var t=Object(a.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(e);case 3:r=t.sent,n(T.setUser(r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(T.setUser({id:0,name:"",username:"",email:"",phone:""}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteTodo:function(e){return function(){var t=Object(a.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(e);case 3:return t.next=5,p();case 5:r=t.sent,n(T.updateTodos(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(T.updateTodos([]));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},updateTodos:function(e){return{type:m,todos:e}},setUser:function(e){return{type:h,user:e}},filter:function(e){return{type:_,filter:e}},setQuery:function(e){return{type:x,query:e}},randomize:function(){return{type:v}},clear:function(e){e(T.setUser({id:0,name:"",username:"",email:"",phone:""}))}},y=function(e){return e.random},N=function(e){return e.user},C=function(e){return e.todos},k=function(e){return e.query},L=function(e){return e.filter},S={random:!1,todos:[],user:{id:0,name:"",username:"",email:"",phone:""},query:"",filter:""},U=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(o.a)(Object(o.a)({},e),{},{todos:t.todos});case h:return Object(o.a)(Object(o.a)({},e),{},{user:t.user});case _:return Object(o.a)(Object(o.a)({},e),{},{filter:t.filter});case x:return Object(o.a)(Object(o.a)({},e),{},{query:t.query.toLowerCase()});case v:return Object(o.a)(Object(o.a)({},e),{},{random:!e.random});default:return e}}),Object(j.composeWithDevTools)(Object(l.applyMiddleware)(d.a))),g=U,w=(n(27),n(28),n(1)),E=(n(29),n(0)),A=function(e){var t=e.title,n=Object(s.b)();return Object(E.jsx)("button",{type:"button",className:"Start__button",onClick:function(){n(T.startLoading)},children:t})},D=n(5),R=n.n(D),q=(n(31),function(){var e=Object(s.c)(C),t=Object(s.c)(N),n=Object(s.c)(y),r=Object(s.c)(k),c=Object(s.c)(L),o=Object(s.b)(),a=Object(w.useMemo)((function(){var t=e.filter((function(e){return e.title.toLowerCase().includes(r)})),s=t;switch(c){case"active":s=t.filter((function(e){return!e.completed}));break;case"completed":s=t.filter((function(e){return e.completed}))}return t=n?s.map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value})):s}),[n,c,r,e]);return Object(E.jsx)("div",{className:"TodoList",children:a.length>0?Object(E.jsx)("div",{className:"TodoList__list-container",children:Object(E.jsx)("ul",{className:"TodoList__list",children:a.map((function(e){return Object(E.jsxs)("li",{className:R()("TodoList__item",{"TodoList__item--unchecked":!e.completed},{"TodoList__item--checked":e.completed}),children:[Object(E.jsxs)("label",{children:[Object(E.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(E.jsx)("p",{children:e.title})]}),Object(E.jsxs)("div",{className:"TodoList__buttons",children:[Object(E.jsxs)("button",{className:R()("TodoList__user-button button",{"TodoList__user-button--selected":e.userId===t.id}),type:"button",onClick:function(){return t=e.userId,void o(T.loadUser(t));var t},children:["User\xa0#",e.userId]}),Object(E.jsx)("button",{type:"button",className:R()("TodoList__user-button button","TodoList__user-button--delete"),onClick:function(){return t=e.id,void o(T.deleteTodo(t));var t},children:"X"})]})]},e.id)}))})}):Object(E.jsx)("div",{className:"error-message",children:Object(E.jsx)("p",{children:"No todos was found"})})})}),I=n(18),z=n(17),M=n.n(z),Q=(n(43),function(){var e=Object(s.b)(),t=Object(s.c)(y),n=Object(s.c)(k),r=Object(w.useState)(n),c=Object(I.a)(r,2),o=c[0],a=c[1],i=Object(w.useCallback)(M()((function(t){e(t?T.setQuery(t.toLowerCase()):T.setQuery(""))}),500),[]);return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"Search-panel__form",children:[Object(E.jsx)("input",{type:"text",name:"query",className:"Search-panel__form__search",value:o,placeholder:"Type search todo",onChange:function(e){a(e.target.value),i(e.target.value)}}),Object(E.jsxs)("select",{className:"Search-panel__form__select",onChange:function(t){e(T.filter(t.target.value))},children:[Object(E.jsx)("option",{value:"",className:"Search-panel__form__select__option",children:"Choose filter"}),Object(E.jsx)("option",{value:"all",children:"All ToDos"}),Object(E.jsx)("option",{value:"completed",children:"Completed Todos"}),Object(E.jsx)("option",{value:"active",children:"Active ToDos"})]}),Object(E.jsx)("button",{type:"button",title:"Random todos sort",className:R()("Search-panel__form__button",{"Search-panel__form__button--on":t}),onClick:function(){e(T.randomize())},children:t?"Randomize On":"Randomize Off"})]})})}),F=(n(44),function(){var e=Object(s.c)(N),t=Object(s.b)();return Object(E.jsxs)("div",{className:"CurrentUser",children:[Object(E.jsx)("h2",{className:"CurrentUser__title",children:Object(E.jsx)("span",{children:"Selected user: ".concat(e.id)})}),Object(E.jsx)("h3",{className:"CurrentUser__name",children:e.name}),Object(E.jsx)("p",{className:"CurrentUser__email",children:e.email}),Object(E.jsx)("p",{className:"CurrentUser__phone",children:e.phone}),Object(E.jsx)("div",{className:"CurrentUser__clear",children:Object(E.jsx)("button",{type:"button",className:"CurrentUser__clear-button",onClick:function(){t(T.clear)},children:"Clear"})})]})}),J=function(){var e=Object(s.c)(C),t=Object(s.c)(N);return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsxs)("div",{className:"App__sidebar",children:[Object(E.jsx)("h1",{className:"App__sidebar-title",children:"TODOS"}),0===e.length?Object(E.jsx)(A,{title:"Start"}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Q,{}),Object(E.jsx)(q,{})]})]}),Object(E.jsx)("div",{className:"App__content",children:Object(E.jsx)("div",{className:"App__content-container",children:0!==t.id?Object(E.jsx)(F,{}):Object(E.jsx)("div",{className:"App__content-container__message",children:Object(E.jsx)("p",{children:"USER NO SELECTED"})})})})]})},P=function(){return Object(E.jsx)(s.a,{store:g,children:Object(E.jsx)(J,{})})};c.a.render(Object(E.jsx)(P,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.2faf04fc.chunk.js.map